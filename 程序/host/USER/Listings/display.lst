C51 COMPILER V9.56.0.0   DISPLAY                                                           03/24/2020 15:22:31 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE DISPLAY
OBJECT MODULE PLACED IN ..\OBJ\display.obj
COMPILER INVOKED BY: D:\Program_File\Keil_v5\C51\BIN\C51.EXE ..\HARDWARE\DISPLAY\display.c OPTIMIZE(8,SPEED) BROWSE INCD
                    -IR(..\HARDWARE;..\SYSTEM;..\HARDWARE\DISPLAY;..\HARDWARE\USART;..\HARDWARE\TIM;..\HARDWARE\KEY;..\HARDWARE\EEPROM) DEBUG
                    - OBJECTEXTEND PRINT(.\Listings\display.lst) OBJECT(..\OBJ\display.obj)

line level    source

   1          #include "display.h"
   2          #include "delay.h"
   3          
   4          unsigned char code DIG_PLACE[8] = {0xfe,0xfd,0xfb,0xf7,0xef,0xdf,0xbf,0x7f};    //位选控制
   5          
   6          unsigned char code DIG_CODE[17] = {0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,
   7                                                                                  0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71};
   8                                                                                  //0 1 2 3 4 5 6 7 8 9 A B C D E F 的段码 共阴极接法
   9                                                                                  
  10          unsigned char DisplayData[8]={0};       //存放要显示的段码
  11          
  12          /*******************************************************************************
  13          * 函数名         : DigDisplay
  14          * 功能                         : 数码管动态显示
  15          * 输入                         ：时间0 - 60秒
  16          * 输出                         : 无
  17          *******************************************************************************/
  18          
  19          void DigDisplay(int m)
  20          {
  21   1              unsigned char i;
  22   1              unsigned char j;
  23   1              
  24   1              DisplayData[7] = DIG_CODE[m%10];                //得到个位段码
  25   1              DisplayData[6] = DIG_CODE[m/10];                //得到十位段码
  26   1      
  27   1              for(i=0; i<8; i++)
  28   1              {
  29   2                      
  30   2                      GPIO_PLACE = DIG_PLACE[i];              //输出位选
  31   2                      GPIO_DIG = DisplayData[i];      //输出段码
  32   2                      
  33   2                      j = 40;
  34   2                      while(j--);
  35   2                      GPIO_DIG = 0x00;                        //消隐
  36   2              }
  37   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     82    ----
   CONSTANT SIZE    =     25    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      8    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
